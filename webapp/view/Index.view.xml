<mvc:View xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" 
	xmlns:f="sap.f" xmlns:u="sap.ui.table"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:l="sap.ui.layout" controllerName="com.shunyu.slpack.controller.Index" height="100%">
		<f:DynamicPage headerExpanded="true">
		
			<!--第一个主体 标题 查询条件-->
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="{i18n>IndexView.search}"/>
					</f:heading>
				</f:DynamicPageTitle>
			</f:title>
			
			<!--各查询条件输入选择框-->
			<f:header>
				<f:DynamicPageHeader >
					<f:content>
						<fb:FilterBar search="onSearch" useToolbar="false" showRestoreButton="false" showClearButton="true"
							showGoOnFB="true" showFilterConfiguration="false" id="tagfilter" >
							<fb:filterItems>
								<!--HU号-->
								<fb:FilterItem name="werks" label="{i18n>IndexView.werks}">
									<fb:control>
										<Input
										id="s_werks"
										type="Text"
										value="{searchModel>/werks}"
										showValueHelp="true"
										valueHelpOnly="false"
										valueHelpRequest="HUHandleValueHelp"
										width="15rem"
										class="sapUiSmallMarginBottom"/>
									</fb:control>
								</fb:FilterItem>

								<!--仓库-->
								<fb:FilterItem name="stock"  label="{i18n>IndexView.stock}">
									<fb:control>
										<Input
										id="s_stock"
										type="Text"
										value="{searchModel>/stock}"
										showValueHelp="true"
										valueHelpOnly="false"
										valueHelpRequest="handleValueHelp1"
										width="15rem"
										class="sapUiSmallMarginBottom"/>
									</fb:control>
								</fb:FilterItem>

								<!--目标仓库-->
								<fb:FilterItem name="targetStock"  label="{i18n>IndexView.targetStock}">
									<fb:control>
										<Input
										id="s_targetStock"
										type="Text"
										value="{searchModel>/targetStock}"
										showValueHelp="true"
										valueHelpOnly="false"
										valueHelpRequest="handleValueHelp1"
										width="15rem"
										class="sapUiSmallMarginBottom"/>
									</fb:control>
								</fb:FilterItem>
								
								<!--物料编号-->
								<fb:FilterItem name="Material" label="{i18n>IndexView.material}" >
									<fb:control>
										<Input
										id="s_material"
										type="Text"
										value="{searchModel>/Material}"
										showValueHelp="true"
										valueHelpOnly="false"
										valueHelpRequest="materialHandleValueHelp"
										width="15rem"
										class="sapUiSmallMarginBottom"/>
									</fb:control>
								</fb:FilterItem>								
								
								<!--批次-->
								<fb:FilterItem name="batch" label="{i18n>IndexView.batch}">
									<fb:control>
										<Input id="batch" value="{searchModel>/batch}" width="20rem">
										<layoutData>
												<l:GridData span="XL4 L4 M4 S4"/>
											</layoutData>
										</Input>
									</fb:control>
								</fb:FilterItem>
							</fb:filterItems>
						</fb:FilterBar>
					</f:content>
				</f:DynamicPageHeader>
			</f:header>
			
			<f:content>
				<u:Table id="table" selectionMode="MultiToggle" visibleRowCount="10" rowActionCount="1" 
                        rows="{path: 'ship>/ZSY_QM22_I1Set'}" ariaLabelledBy="title" class="custTable">
                    <u:extension>
                        <OverflowToolbar>
                            <content>
                                <Title text="{i18n>IndexView.tableTitle}" level="H2"/>
                                <ToolbarSpacer/>
                                <Button
                                    visible="{/otherEditable}"
                                    tooltip="{i18n>IndexView.btnEdit}"
									type="Emphasized"
                                    press="onAddItem" 
									text="{i18n>IndexView.btnEdit}"/>
                            </content>
                        </OverflowToolbar>
                    </u:extension>
                    <u:columns>
                        <u:Column>
                            <Label text="物料编号" />
                            <u:template>
                                <Input  
                                    editable="{/otherEditable}"
                                    type="Text"
                                    value="{ship>Zmxbh}"		
                                    showValueHelp="true"
                                    valueHelpOnly="true"
                                    valueHelpRequest="handleValueHelp3">
                                    <layoutData>
                                        <l:GridData span="XL2 L2 M4 S8" />
                                    </layoutData>
                                </Input>
                            </u:template>
                        </u:Column>
                        <u:Column>
                            <Label text="物料名称" />
                            <u:template>
                                <Input value="{ship>Zmxmc}" editable="{/otherEditable}"/>
                            </u:template>
                        </u:Column>
                        <u:Column>
                            <Label text="数量" />
                            <u:template>
                                <TextArea value="{ship>Zjcbzms}" editable="{/otherEditable}" width="100%"/>
                            </u:template>
                        </u:Column>
                        <u:Column>
                            <Label text="批次"/>
                            <u:template>
                                <Input value="{ship>Zxsbz}" editable="{/otherEditable}"/>
                            </u:template>
                        </u:Column>       
                    </u:columns>
                    <u:rowActionTemplate>
                        <u:RowAction visible="{/otherEditable}">
                            <u:items>
                                <u:RowActionItem icon="sap-icon://decline" text="{ship>Zzxxh}" type="Delete" press="onDeleteItem2"></u:RowActionItem>
                            </u:items>
                        </u:RowAction>
                    </u:rowActionTemplate>
                </u:Table>
			</f:content>
		</f:DynamicPage>
</mvc:View>